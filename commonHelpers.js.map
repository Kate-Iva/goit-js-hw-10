{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport const convertMs = ms => {\n    const second = 1000;\n    const minute = second * 60;\n    const hour = minute * 60;\n    const day = hour * 24;\n  \n    const days = Math.floor(ms / day);\n    const hours = Math.floor((ms % day) / hour);\n    const minutes = Math.floor(((ms % day) % hour) / minute);\n    const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n  \n    return { days, hours, minutes, seconds };\n  };\n\n  const startButton = document.querySelector('button[data-start]');\nconst datePickerField = document.querySelector('input#datetime-picker');\nconst daysField = document.querySelector('span[data-days]');\nconst hoursField = document.querySelector('span[data-hours]');\nconst minutesField = document.querySelector('span[data-minutes]');\nconst secondsField = document.querySelector('span[data-seconds]');\n\nlet selectedDate;\n\nconst updateTimerDisplay = ({ days, hours, minutes, seconds }) => {\n  daysField.textContent = String(days).padStart(2, '0');\n  hoursField.textContent = String(hours).padStart(2, '0');\n  minutesField.textContent = String(minutes).padStart(2, '0');\n  secondsField.textContent = String(seconds).padStart(2, '0');\n};\n\nconst startTimer = () => {\n  const intervalId = setInterval(() => {\n    const date = new Date();\n    let difTime = selectedDate - date.getTime();\n    const { days, hours, minutes, seconds } = convertMs(difTime);\n\n    updateTimerDisplay({ days, hours, minutes, seconds });\n\n    if (days === 0 && hours === 0 && minutes === 0 && seconds === 0) {\n      clearInterval(intervalId);\n    }\n  }, 1000);\n};\n\nstartButton.addEventListener('click', () => {\n  startTimer();\n  startButton.disabled = true;\n  datePickerField.disabled = true;\n});\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    selectedDate = selectedDates[0].getTime();\n    let difDate = selectedDate - new Date().getTime();\n    if (difDate <= 0) {\n      iziToast.error({\n        message: 'Please choose a date in the future',\n        position: 'topRight',\n        color: '#FF2E2E',\n        messageColor: '#ffffff',\n        backgroundColor: '#FF2E2E',\n        timeout: 5000,\n        close: false,\n      });\n      return;\n    }\n\n    startButton.disabled = false;\n  },\n};\n\nflatpickr('input#datetime-picker', options);"],"names":["convertMs","ms","days","hours","minutes","seconds","startButton","datePickerField","daysField","hoursField","minutesField","secondsField","selectedDate","updateTimerDisplay","startTimer","intervalId","difTime","options","selectedDates","iziToast","flatpickr"],"mappings":"2GAKO,MAAMA,EAAYC,GAAM,CAM3B,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAC1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EACpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EACjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CAC1C,EAEQC,EAAc,SAAS,cAAc,oBAAoB,EAC3DC,EAAkB,SAAS,cAAc,uBAAuB,EAChEC,EAAY,SAAS,cAAc,iBAAiB,EACpDC,EAAa,SAAS,cAAc,kBAAkB,EACtDC,EAAe,SAAS,cAAc,oBAAoB,EAC1DC,EAAe,SAAS,cAAc,oBAAoB,EAEhE,IAAIC,EAEJ,MAAMC,EAAqB,CAAC,CAAE,KAAAX,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,IAAO,CAChEG,EAAU,YAAc,OAAON,CAAI,EAAE,SAAS,EAAG,GAAG,EACpDO,EAAW,YAAc,OAAON,CAAK,EAAE,SAAS,EAAG,GAAG,EACtDO,EAAa,YAAc,OAAON,CAAO,EAAE,SAAS,EAAG,GAAG,EAC1DO,EAAa,YAAc,OAAON,CAAO,EAAE,SAAS,EAAG,GAAG,CAC5D,EAEMS,EAAa,IAAM,CACvB,MAAMC,EAAa,YAAY,IAAM,CAEnC,IAAIC,EAAUJ,EADD,IAAI,OACiB,QAAO,EACzC,KAAM,CAAE,KAAAV,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,GAAYL,EAAUgB,CAAO,EAE3DH,EAAmB,CAAE,KAAAX,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAS,CAAA,EAEhDH,IAAS,GAAKC,IAAU,GAAKC,IAAY,GAAKC,IAAY,GAC5D,cAAcU,CAAU,CAE3B,EAAE,GAAI,CACT,EAEAT,EAAY,iBAAiB,QAAS,IAAM,CAC1CQ,IACAR,EAAY,SAAW,GACvBC,EAAgB,SAAW,EAC7B,CAAC,EAED,MAAMU,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CAGrB,GAFAN,EAAeM,EAAc,CAAC,EAAE,QAAO,EACzBN,EAAe,IAAI,KAAM,EAAC,QAAO,GAChC,EAAG,CAChBO,EAAS,MAAM,CACb,QAAS,qCACT,SAAU,WACV,MAAO,UACP,aAAc,UACd,gBAAiB,UACjB,QAAS,IACT,MAAO,EACf,CAAO,EACD,MACD,CAEDb,EAAY,SAAW,EACxB,CACH,EAEAc,EAAU,wBAAyBH,CAAO"}